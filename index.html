<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>liveb sphere</title>
<!-- Include hls.js for better HLS support -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<!-- Optional: Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
  /* Reset & base styles */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  background-color: #f0f4f8;
  color: #333;
  line-height: 1.6;
  transition: background-color 0.3s, color 0.3s;
}

/* Dark mode styles */
body.dark-mode {
  background-color: #121212;
  color: #eee;
}

.footer {
  background-color: #888;
  color: #fbb;
  padding: 20px;
  text-align: center;
  clear: both;
  margin-top: 40px
}

.footer-content {
  max-width: 400px;
  margin: 0 auto;
}

.social-links {
  list-style: none;
  padding: 0;
  margin: 0;
}

.social-links li {
  display: inline-block;
  margin-right: 20px;
}

.social-links a {
  color: #fff;
  text-decoration: none;
  transition: color 0.2s ease;
}

.social-links a:hover {
  color: #ccc;
}

.whatsapp {
  color: #25D366;
}

.telegram {
  color: #0088cc;
}


/* Header styling */
header {
  position: relative;
  background-color: #1e88e5;
  padding: 20px 40px;
  display: flex; justify-content: space-between; align-items: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  flex-wrap: wrap;
}
header h1 {
  color: #fff;
  font-size: 2.2em; 
  letter-spacing: 2px;
  font-weight: 700;
}
nav a {
  color: #fff;
  text-decoration: none;
  margin-left: 25px;
  font-weight: 600;
  font-size: 1em;
  padding: 8px 12px;
  border-radius: 4px;
  transition: background-color 0.3s, transform 0.3s;
}
nav a:hover {
  background-color: #1565c0;
  transform: translateY(-2px);
}

/* Mode toggle button */
#mode-toggle {
  position: absolute;
  top: 20px;
  right: 20px;
  background: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.9em;
  transition: background 0.3s, color 0.3s;
}
body.dark-mode #mode-toggle {
  background: #333;
  color: #eee;
}

/* Container & headings */
.container {
  max-width: 1200px;
  margin: 30px auto;
  padding: 0 20px;
}
h2 {
  text-align: center;
  margin-bottom: 25px;
  font-size: 2em;
  color: #1565c0;
  font-weight: 700;
  letter-spacing: 1px;
}
h2:nth-child(odd) {
  margin-top: 50px;
}

/* Channels grid */
.channel-grid {
  display: grid; 
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
}

/* Individual channel card */
.channel {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  padding: 15px;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  transition: background-color 0.3s;
}
body.dark-mode .channel {
  background-color: #222;
}

/* Favorite star icon positioned at top-right of video container */
.video-container {
  position: relative;
  width: 100%;
  max-width: 280px;
  height: 180px;
  border-radius: 8px;
  overflow: hidden;
  background-color: #000;
  margin-bottom: 8px;
}
.fav-star {
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 1.5em;
  cursor: pointer;
  color: #ccc;
  z-index: 10;
  transition: color 0.3s, transform 0.2s;
}
.fav-star.favorited {
  color: #ffcc00;
  transform: scale(1.2);
}

/* Background image overlay for stream placeholder */
.bg-image {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background-size: cover;
  background-position: center;
  filter: brightness(0.7);
  z-index: 1;
  transition: opacity 0.5s ease;
  opacity: 1;
}
video {
  position: relative;
  width: 100%;
  height: 100%;
  z-index: 2;
  background: transparent;
  border-radius: 8px;
  border: 2px solid #ddd;
}

/* Buttons styles */
.load-btn, .pip-btn {
  margin-top: 8px;
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.95em;
  transition: background-color 0.3s, transform 0.2s;
}
.load-btn {
  background-color: #1e88e5;
  color: #fff;
}
.load-btn:hover {
  background-color: #1565c0;
  transform: scale(1.05);
}
.pip-btn {
  background-color: #43a047;
  color: #fff;
}
.pip-btn:hover {
  background-color: #2e7d32;
}

/* Share links styles */
.links {
  text-align: center; margin: 40px 0;
}
.links a {
  margin: 0 20px;
  text-decoration: none;
  color: #1565c0;
  font-weight: 700;
  font-size: 1.1em;
  padding: 8px 16px;
  border-radius: 4px;
  transition: background-color 0.3s, color 0.3s;
}
.links a:hover {
  background-color: #1565c0;
  color: #fff;
}

/* Additional styles for the new features */
#people-watching {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 30px 0;
  font-size: 1.4em;
  font-weight: bold;
  color: #d32f2f;
}
#people-watching span {
  margin-left: 10px;
  font-size: 1.6em;
  color: #d32f2f;
}
#search-container {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
}
#search-input {
  padding: 8px 12px;
  font-size: 1em;
  border: 2px solid #ccc;
  border-radius: 6px 0 0 6px;
  outline: none;
  width: 250px;
}
#search-button {
  padding: 8px 16px;
  font-size: 1em;
  border: none;
  border-radius: 0 6px 6px 0;
  background-color: #1e88e5;
  color: #fff;
  cursor: pointer;
  transition: background-color 0.3s;
}
#search-button:hover {
  background-color: #1565c0;
}

/* Sidebar styles */
#sidebar {
  position: fixed;
  top: 0;
  left: -250px;
  width: 250px;
  height: 100%;
  background-color: #fff;
  color: #333;
  box-shadow: 2px 0 10px rgba(0,0,0,0.3);
  z-index: 9999;
  padding: 20px;
  transition: left 0.3s ease;
  overflow-y: auto;
}
body.dark-mode #sidebar {
  background-color: #222;
  color: #eee;
}
#sidebar.active {
  left: 0;
}
#sidebar h3 {
  margin-bottom: 20px;
  text-align: center;
  color: #1565c0;
}

/* Toggle sidebar button */
#toggle-sidebar {
  position: fixed;
  top: 80px;
  left: 10px;
  background: #1e88e5;
  border: none;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  color: #fff;
  z-index: 10000;
  font-weight: 600;
}
body.dark-mode #toggle-sidebar {
  background: #333;
}

/* Favorites list in sidebar */
#favorites-list {
  list-style: none;
}
#favorites-list li {
  padding: 8px;
  margin-bottom: 8px;
  background: #f0f0f0;
  border-radius: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
body.dark-mode #favorites-list li {
  background: #444;
}
#favorites-list li span {
  flex: 1;
}
#favorites-list li button {
  background: transparent;
  border: none;
  color: #d32f2f;
  font-size: 1.2em;
  cursor: pointer;
}
#favorites-list li button:hover {
  color: #b71c1c;
}

/* Floating Donate Button */
#donate-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #ff5722;
  color: #fff;
  border: none;
  padding: 14px 20px;
  border-radius: 50px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  font-size: 1em;
  transition: background 0.3s;
  z-index: 999;
}
#donate-btn:hover {
  background: #e64a19;
}

/* Style for Audrey links icons */
#audrey-links {
  position: fixed;
  bottom: 80px; /* above the donate button */
  right: 20px;
  display: flex;
  gap: 15px;
  z-index: 1000;
}
#audrey-links a {
  font-size: 2em;
  display: inline-block;
  color: #25D366; /* WhatsApp color default, will override for Telegram */
  transition: transform 0.2s, color 0.2s;
}
#audrey-links a:hover {
  transform: scale(1.2);
}

/* Responsive adjustments */
@media(max-width: 768px) {
  header {
    flex-direction: column;
    align-items: center;
  }
  nav {
    margin-top: 10px;
  }
  h2 {
    margin-top: 30px;
  }
  #search-input {
    width: 100%;
    margin-bottom: 10px;
    border-radius: 6px;
  }
  #search-button {
    width: 100%;
    border-radius: 6px;
  }
  #toggle-sidebar {
    top: 20px;
    left: 10px;
  }
}
 
  #welcomeMessage {
    opacity: 0;
    background-color: lightblue; /* Green background */
    color: white;
    padding: 20px 30px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    font-size: 18px;
    max-width: 80%;
    text-align: center;
    transition: opacity 1s ease, transform 0.5s ease;
    transform: translateY(-20px);
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) translateY(-20px);
  }

  /* Optional: Style for the image */
  #welcomeMessage img {
    max-width: 100px;
    height: auto;
    display: block;
    margin: 10px auto;
    border-radius: 5px;
  }

</style>
</head>
<body>

<header>
  <h1>Livesphere</h1>
  <nav>
    <a href="#home">Home</a>
    <a href="#channels">Channels</a>
    <a href="#about">About</a>
    <a href="#contact">Contact</a>
  </nav>
  <button id="mode-toggle">Dark Mode</button>
</header>



<!-- Sidebar toggle button -->
<button id="toggle-sidebar">Favorites</button>

<!-- Audrey contact links (WhatsApp & Telegram) -->
<div id="audrey-links">
  <a href="https://wa.me/256779085558" target="_blank" title="Chat on WhatsApp" style="color:#25D366;">
    <i class="fab fa-whatsapp"></i>
  </a>
  <a href="https://t.me/brave256" target="_blank" title="Message on Telegram" style="color:#0088cc;">
    <i class="fab fa-telegram"></i>
  </a>
</div>

<!-- Sidebar for favorites -->
<div id="sidebar">
  <h3>Starred Channels</h3>
  <ul id="favorites-list"></ul>
</div>

<!-- People Watching Counter -->
<div id="people-watching">
  People Watching:
  <span id="watch-count">823</span>
</div>

<!-- Search Channel -->
<div id="search-container">
  <input type="text" id="search-input" placeholder="Search channels..." />
  <button id="search-button">Search</button>
</div>

<!-- Donate button -->
<a href="#"><button id="donate-btn" title="Support us!">Donate</button></a>

<!-- Main content: Channels -->
<div class="container" id="channels">

  
  <div class="channel-grid" id="channel-grid">
    <!-- Optional featured channels can go here -->
  </div>

  <h2 style="margin-top:50px;">Local Channels</h2>
  <div class="channel-grid" id="individual-channels">

    <!-- BUKEDDE 1 -->
    <div class="channel" data-name="BUKEDDE 1" data-favorites="false">
      <div class="video-container" data-current-image="http://static.startimestv.com/static/files/production/poster/2025/5/1877385.jpg?l=240">
        <!-- Favorite star at top-right -->
        <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'BUKEDDE 1')">★</div>
        <div class="bg-image" style="background-image: url('http://static.startimestv.com/static/files/production/poster/2025/5/1877385.jpg?l=240');"></div>
        <video id="video-bukedde1" controls></video>
      </div>
      <p style="margin-top:8px; font-weight:600;">BUKEDDE 1</p>
      <button class="load-btn" onclick="loadStream('video-bukedde1', 'https://stream.hydeinnovations.com/bukedde1flussonic/index.m3u8?', 'https://via.placeholder.com/280x180.png?text=BUKEDDE+1+Live')">Play BUKEDDE 1</button>
      <button class="pip-btn" onclick="togglePiP('video-bukedde1')">PiP</button>
    </div>

    <!-- BUKEDDE 2 -->
    <div class="channel" data-name="BUKEDDE 2" data-favorites="false">
      <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=BUKEDDE+2+Live">
        <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'BUKEDDE 2')">★</div>
        <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=BUKEDDE+2+Live');"></div>
        <video id="video-bukedde2" controls></video>
      </div>
      <p style="margin-top:8px; font-weight:600;">BUKEDDE 2</p>
      <button class="load-btn" onclick="loadStream('video-bukedde2', 'https://stream.hydeinnovations.com/bukedde2flussonic/index.m3u8?', 'https://via.placeholder.com/280x180.png?text=BUKEDDE+2+Live')">Play BUKEDDE 2</button>
      <button class="pip-btn" onclick="togglePiP('video-bukedde2')">PiP</button>
    </div>

    <!-- GALAXY TV -->
    <div class="channel" data-name="GALAXY TV" data-favorites="false">
      <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=ARK+TV+Live">
        <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'GALAXY TV')">★</div>
        <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=ARK+TV+Live');"></div>
        <video id="video-galaxy" controls></video>
      </div>
      <p style="margin-top:8px; font-weight:600;">GALAXY TV</p>
      <button class="load-btn" onclick="loadStream('video-galaxy', 'https://stream-200573.castr.net/6463248048d6cd3e143655b2/live_43351ad0f3b411ed81c78fcc31887c54/tracks-v3a1/rewind-3600.ts.m3u8', 'https://via.placeholder.com/280x180.png?text=ARK+TV+Live')">Play GALAXY TV</button>
      <button class="pip-btn" onclick="togglePiP('video-galaxy')">PiP</button>
    </div>
<!-- DREAM TV -->
<div class="channel" data-name="DREAM TV" data-favorites="false">
  <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=DREAM+TV+Live">
    <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'DREAM TV')">★</div>
    <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=DREAM+TV+Live');"></div>
    <video id="video-dream" controls></video>
  </div>
  <p style="margin-top:8px; font-weight:600;">DREAM TV</p>
  <button class="load-btn" onclick="loadStream('video-dream', 'https://streamfi-dreamtv1.zettawiseroutes.com:8181/hls/stream_low.m3u8', 'https://via.placeholder.com/280x180.png?text=DREAM+TV+Live')">Play DREAM TV</button>
  <button class="pip-btn" onclick="togglePiP('video-dream')">PiP</button>
</div>

<!-- GUGUDDE TV -->
<div class="channel" data-name="GUGUDDE TV" data-favorites="false">
  <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=GUGUDDE+TV+Live">
    <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'GUGUDDE TV')">★</div>
    <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=GUGUDDE+TV+Live');"></div>
    <video id="video-gugudde" controls></video>
  </div>
  <p style="margin-top:8px; font-weight:600;">GUGUDDE TV</p>
  <button class="load-btn" onclick="loadStream('video-gugudde', 'https://jk3lzqq4lw79-hls-live.5centscdn.com/gugudde/c9a1fdac6e082dd89e7173244f34d7b3.sdp/chunks.m3u8', 'https://via.placeholder.com/280x180.png?text=GUGUDDE+TV+Live')">Play GUGUDDE TV</button>
  <button class="pip-btn" onclick="togglePiP('video-gugudde')">PiP</button>
</div>

<!-- FORT TV SPECIAL -->
<div class="channel" data-name="FORT TV SPECIAL" data-favorites="false">
  <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=FORT+TV+SPECIAL+Live">
    <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'FORT TV SPECIAL')">★</div>
    <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=FORT+TV+SPECIAL+Live');"></div>
    <video id="video-fort-special" controls></video>
  </div>
  <p style="margin-top:8px; font-weight:600;">FORT TV SPECIAL</p>
  <button class="load-btn" onclick="loadStream('video-fort-special', 'https://fort.co-works.org/memfs/87017643-274a-4bc0-a786-7767a0d159c2_output_0.m3u8?session=KpyNb2TAExLsCzFCD3BGPz', 'https://via.placeholder.com/280x180.png?text=FORT+TV+SPECIAL+Live')">Play FORT TV SPECIAL</button>
  <button class="pip-btn" onclick="togglePiP('video-fort-special')">PiP</button>
</div>


<!-- TV WEST -->
<div class="channel" data-name="TV WEST" data-favorites="false">
  <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=TV+WEST+Live">
    <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'TV WEST')">★</div>
    <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=TV+WEST+Live');"></div>
    <video id="video-tv-west" controls></video>
  </div>
  <p style="margin-top:8px; font-weight:600;">TV WEST</p>
  <button class="load-btn" onclick="loadStream('video-tv-west', 'https://stream.hydeinnovations.com/tvwest-flussonic/tracks-v3a1/mono.m3u8', 'https://via.placeholder.com/280x180.png?text=TV+WEST+Live')">Play TV WEST</button>
  <button class="pip-btn" onclick="togglePiP('video-tv-west')">PiP</button>
</div>

   
<!-- 3ABN TV -->
<div class="channel" data-name="3ABN TV" data-favorites="false">
  <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=3ABN+TV+Live">
    <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, '3ABN TV')">★</div>
    <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=3ABN+TV+Live');"></div>
    <video id="video-abn" controls></video>
  </div>
  <p style="margin-top:8px; font-weight:600;">3ABN TV</p>
  <button class="load-btn" onclick="loadStream('video-abn', 'https://3abn.bozztv.com/3abn/3abn_uganda_live/tracks-v2a1/mono.m3u8', 'https://via.placeholder.com/280x180.png?text=3ABN+TV+Live')">Play 3ABN TV</button>
  <button class="pip-btn" onclick="togglePiP('video-abn')">PiP</button>
</div>

<!-- SPIRIT TV -->
<div class="channel" data-name="SPIRIT TV" data-favorites="false">
  <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=SPIRIT+TV+Live">
    <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'SPIRIT TV')">★</div>
    <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=SPIRIT+TV+Live');"></div>
    <video id="video-spirit" controls></video>
  </div>
  <p style="margin-top:8px; font-weight:600;">SPIRIT TV</p>
  <button class="load-btn" onclick="loadStream('video-spirit', 'https://tv.tuhlprintltd.com/hls/0/stream.m3u8', 'https://via.placeholder.com/280x180.png?text=SPIRIT+TV+Live')">Play SPIRIT TV</button>
  <button class="pip-btn" onclick="togglePiP('video-spirit')">PiP</button>
</div>

<!-- FORT TV -->
<div class="channel" data-name="FORT TV" data-favorites="false">
  <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=FORT+TV+Live">
    <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'FORT TV')">★</div>
    <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=FORT+TV+Live');"></div>
    <video id="video-ftv" controls></video>
  </div>
  <p style="margin-top:8px; font-weight:600;">FORT TV</p>
  <button class="load-btn" onclick="loadStream('video-ftv', 'http://fort.co-works.org:8080/hls/live.stream.m3u8', 'https://via.placeholder.com/280x180.png?text=FORT+TV+Live')">Play FORT TV</button>
  <button class="pip-btn" onclick="togglePiP('video-ftv')">PiP</button>
</div>
    
    <!-- ARK TV -->
    <div class="channel" data-name="ARK TV" data-favorites="false">
      <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=ARK+TV+Live">
        <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, 'ARK TV')">★</div>
        <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=ARK+TV+Live');"></div>
        <video id="video-ark" controls></video>
      </div>
      <p style="margin-top:8px; font-weight:600;">ARK TV</p>
      <button class="load-btn" onclick="loadStream('video-ark', 'https://stream.hydeinnovations.com/arktv-international/tracks-a1/index.fmp4.m3u8', 'https://via.placeholder.com/280x180.png?text=ARK+TV+Live')">Play ARK TV</button>
      <button class="pip-btn" onclick="togglePiP('video-ark')">PiP</button>
    </div>

  </div>

  <h2 style="margin-top:50px;">International & Other Channels</h2>
  <div class="channel-grid" id="international-channels">
    <!-- Example international channels -->
    
    
    <div class="channel" data-name="1KZN TV" data-favorites="false">
      <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=1KZN+TV+Live">
        <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, '1KZN TV')">★</div>
        <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=1KZN+TV+Live');"></div>
        <video id="video-1kzn" controls></video>
      </div>
      <p style="margin-top:8px; font-weight:600;">1KZN TV (576p)</p>
      <button class="load-btn" onclick="loadStream('video-1kzn', 'https://cdn.freevisiontv.co.za/sttv/smil:1kzn.stream.smil/playlist.m3u8', 'https://via.placeholder.com/280x180.png?text=1KZN+TV+Live')">Play 1KZN TV</button>
      <button class="pip-btn" onclick="togglePiP('video-1kzn')">PiP</button>
    </div>
    <div class="channel" data-name="2GB Sydney" data-favorites="false">
      <div class="video-container" data-current-image="https://via.placeholder.com/280x180.png?text=2GB+Sydney+Live">
        <div class="fav-star" title="Add to favorites" onclick="toggleFavorite(this, '2GB Sydney')">★</div>
        <div class="bg-image" style="background-image: url('https://via.placeholder.com/280x180.png?text=2GB+Sydney+Live');"></div>
        <video id="video-2gb" controls></video>
      </div>
      <p style="margin-top:8px; font-weight:600;">2GB Sydney (1080p)</p>
      <button class="load-btn" onclick="loadStream('video-2gb', 'https://2gblive.akamaized.net/hls/live/2033805/2GB/index.m3u8', 'https://via.placeholder.com/280x180.png?text=2GB+Sydney+Live')">Play 2GB Sydney</button>
      <button class="pip-btn" onclick="togglePiP('video-2gb')">PiP</button>
    </div>
  </div>

<script>
  // Initialize favorites from localStorage
  let favorites = new Set(JSON.parse(localStorage.getItem('favorites')) || []);

  // Initialize theme from localStorage
  const storedTheme = localStorage.getItem('theme');
  if (storedTheme === 'dark') {
    document.body.classList.add('dark-mode');
    document.getElementById('mode-toggle').textContent = 'Light Mode';
  } else {
    document.body.classList.remove('dark-mode');
    document.getElementById('mode-toggle').textContent = 'Dark Mode';
  }

  // People watching count simulation
  let watchCount = 823;
  const watchSpan = document.getElementById('watch-count');
  setInterval(() => {
    watchCount += Math.floor(Math.random() * 53) + 21;
    watchSpan.textContent = watchCount.toLocaleString();
  }, 2000);

  // Theme toggle
  const modeBtn = document.getElementById('mode-toggle');
  modeBtn.onclick = () => {
    document.body.classList.toggle('dark-mode');
    if (document.body.classList.contains('dark-mode')) {
      localStorage.setItem('theme', 'dark');
      modeBtn.textContent = 'Light Mode';
    } else {
      localStorage.setItem('theme', 'light');
      modeBtn.textContent = 'Dark Mode';
    }
  };

  // Sidebar toggle
  const sidebar = document.getElementById('sidebar');
  document.getElementById('toggle-sidebar').onclick = () => {
    sidebar.classList.toggle('active');
  };

  // Load favorites from localStorage
  function loadFavorites() {
    favorites.forEach(name => {
      // Find the channel element with data-name
      document.querySelectorAll('.channel').forEach(div => {
        if (div.getAttribute('data-name') === name) {
          div.setAttribute('data-favorites', 'true');
          const star = div.querySelector('.fav-star');
          if (star) star.classList.add('favorited');
        }
      });
      addFavoriteToList(name);
    });
  }

  // Save favorites to localStorage
  function saveFavorites() {
    localStorage.setItem('favorites', JSON.stringify(Array.from(favorites)));
  }

  // Toggle favorite status
  function toggleFavorite(starElement, channelName) {
    const channelDivs = document.querySelectorAll('.channel');
    let channelDiv = null;

    channelDivs.forEach(div => {
      if (div.getAttribute('data-name') === channelName) {
        channelDiv = div;
      }
    });
    if (!channelDiv) return;

    const isFav = channelDiv.getAttribute('data-favorites') === 'true';

    if (isFav) {
      // Remove from favorites
      channelDiv.setAttribute('data-favorites', 'false');
      starElement.classList.remove('favorited');
      favorites.delete(channelName);
      removeFavoriteFromList(channelName);
    } else {
      // Add to favorites
      channelDiv.setAttribute('data-favorites', 'true');
      starElement.classList.add('favorited');
      favorites.add(channelName);
      addFavoriteToList(channelName);
    }
    saveFavorites();
  }

  function addFavoriteToList(channelName) {
    const li = document.createElement('li');
    li.dataset.name = channelName;
    li.innerHTML = `<span>${channelName}</span> <button onclick="removeFavorite('${channelName}')">×</button>`;
    document.getElementById('favorites-list').appendChild(li);
  }

  function removeFavoriteFromList(channelName) {
    Array.from(document.getElementById('favorites-list').children).forEach(li => {
      if (li.dataset.name === channelName) li.remove();
    });
  }

  function removeFavorite(channelName) {
    // Find the channel card and update star
    document.querySelectorAll('.channel').forEach(ch => {
      if (ch.getAttribute('data-name') === channelName) {
        ch.setAttribute('data-favorites', 'false');
        const star = ch.querySelector('.fav-star');
        if (star) star.classList.remove('favorited');
      }
    });
    // Remove from favorites list
    removeFavoriteFromList(channelName);
    // Update favorites set and save
    favorites.delete(channelName);
    saveFavorites();
  }

  // Load favorites on page load
  window.onload = () => {
    loadFavorites();
  };

  // Load stream function
  function loadStream(videoId, streamUrl, programImageUrl) {
    // Stop all videos
    document.querySelectorAll('video').forEach(v => {
      v.pause();
      if (v.hls) {
        v.hls.destroy();
        v.hls = null;
      }
    });
    const video = document.getElementById(videoId);
    const container = video.closest('.video-container');
    const bgDiv = container.querySelector('.bg-image');

    // Set background image
    bgDiv.style.backgroundImage = `url('${programImageUrl}')`;
    bgDiv.style.opacity = '1';

    // Load stream
    if (video.hls) {
      video.hls.destroy();
    }

    if (Hls.isSupported()) {
      const hls = new Hls();
      video.hls = hls;
      hls.loadSource(streamUrl);
      hls.attachMedia(video);
      hls.on(Hls.Events.MANIFEST_PARSED, () => {
        video.play().then(() => {
          bgDiv.style.opacity = '0';
        }).catch(e => console.error("Error playing video:", e));
      });
    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
      // Native support
      video.src = streamUrl;
      video.play().then(() => {
        bgDiv.style.opacity = '0';
      }).catch(e => console.error("Error playing video:", e));
    } else {
      alert('Your browser does not support HLS playback.');
    }
  }

  async function togglePiP(videoId) {
    const video = document.getElementById(videoId);
    if (!video) return;
    try {
      if (document.pictureInPictureElement) {
        await document.exitPictureInPicture();
      } else {
        await video.requestPictureInPicture();
      }
    } catch (err) {
      console.error("PiP Error:", err);
      alert("Your browser does not support PiP or an error occurred.");
    }
  }


// Set up event listeners on all videos to toggle background image
document.querySelectorAll('video').forEach(v => {
  v.addEventListener('play', () => {
    const container = v.closest('.video-container');
    const bgDiv = container.querySelector('.bg-image');
    bgDiv.style.opacity = '0'; // hide placeholder when playing
  });
  v.addEventListener('pause', () => {
    const container = v.closest('.video-container');
    const bgDiv = container.querySelector('.bg-image');
    bgDiv.style.opacity = '1'; // show placeholder when paused
  });
  v.addEventListener('ended', () => {
    const container = v.closest('.video-container');
    const bgDiv = container.querySelector('.bg-image');
    bgDiv.style.opacity = '1'; // show placeholder when video ends
  });
});


  // Search filtering
  document.getElementById('search-button').onclick = () => {
    const query = document.getElementById('search-input').value.toLowerCase();
    document.querySelectorAll('#individual-channels .channel').forEach(c => {
      const name = c.getAttribute('data-name').toLowerCase();
      c.style.display = name.includes(query) ? '' : 'none';
    });
  };
  document.getElementById('search-input').onkeydown = (e) => {
    if (e.key === 'Enter') {
      document.getElementById('search-button').click();
    }
  };
</script>
<footer class="footer">
  <div class="footer-content">
    <b>Share with friends:</b>
    <div class="social-links">
      <div><a href="whatsapp://send?text=*JOIN NOW! 📺👋*

*Don't Miss Out on Live TV! 📺*

Join us on:

- WhatsApp: Click to join and stay entertained! 📱
- Telegram: Join our channel for live updates and more! 📢http://t.me/movielibrary6 

*Join Now and Enjoy Live TV! 📺❤️*" target="_blank" class="whatsapp">WhatsApp</a></div>
      <div><a href="http://t.me/brave256" target="_blank" class="telegram">Telegram</a></div>
    </div>
  </div>
</footer>
<div id="welcomeMessage">
  <h2>Welcome to LiveSphere!</h2>
  <!-- Insert your image here -->
  <img src="http://static.startimestv.com/static/files/production/poster/2025/5/1877385.jpg?l=240" alt="Welcome Image" />
  <p>plz share app.</p>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const messageBox = document.getElementById('welcomeMessage');
    // Show the message
    setTimeout(() => {
      messageBox.style.opacity = 1;
      messageBox.style.transform = 'translate(-50%, -50%) translateY(0)';
    }, 100);

    // Hide after 16 seconds
    setTimeout(() => {
      messageBox.style.opacity = 0;
      messageBox.style.transform = 'translate(-50%, -50%) translateY(-20px)';
    }, 5000);
  });
</script>



</body>
</html>

